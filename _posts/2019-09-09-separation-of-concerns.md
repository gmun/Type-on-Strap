---
layout: post
title: "OOP에서 AOP"
tags: [AOP]
categories: [Spring, AOP]
subtitle: "Separation of Concerns"
feature-img: "md/img/thumbnail/aop.png"
thumbnail: "md/img/thumbnail/aop.png"
excerpt_separator: <!--more-->
sitemap:
display: "false"
changefreq: daily
priority: 1.0
---

<!--more-->

# AOP의 마법

---

### 들어가기전

컴퓨터 프로그래밍의 패러다임은 늘 변화한다.

_절차적 프로그래밍 → 객체 지향 프로그래밍(OOP) → 관점 지향 프로그래밍(AOP)_

새로운 프로그래밍의 패러다임은 이전 패러다임의 한계를 느끼고 이를 개선한 방식을 제시하고 있다. 완벽하기만 했던 OOP가 어떠한 개발적인 한계가 있길래 AOP(Aspect Oriented Programming)가 등장했는지 우리는 알아볼 필요가 있다.

AOP는 흔히 마법과 같다고 말한다. 본 포스팅이 그 이유에 대한 해답이 되길 바란다.

### 학습목표

1. OOP의 기술적인 한계
2. AOP의 사용성의 이해

### 모듈의 재사용과 다양한 적용

하나의 프로세스는 하나의 기능이라는 개발 관점이 지배적이던 시절에 OOP의 등장은 혁신과 같았다.

절차적 프로그래밍은 동작의 관점에서 프로그래밍을 하므로 데이터 플로우가 굉장히 중요했다. 반면 OOP는 프로그램의 프로세스와 상관없이 데이터 추상화를 통해 객체로 정의하고 이를 재사용함으로써 프로그래밍을 한다. 자연스레 OOP는 객체간의 구조적인 관계가 형성되고 이 구조는 낮은 결합도와 높은 응집도를 가진 이상적인 구조를 형성해야 한다.

이러한 이상적인 구조를 설계하기 위한 여러 디자인 원칙과 패턴이 존재한다. 그중에 [관심사의 분리(Separation of Concerns)](https://en.wikipedia.org/wiki/Separation_of_concerns)라는 기초적인 디자인 원칙이있다. 이 디자인 원칙은 관심사를 기준으로 분리하고 캡슐화하는데 있다.

1. 기능의 재사용
2. 기능의 독립성

이 관심사의 분리를 잘 사용하면 OOP의 장점들이다.

따라서 분리된 관심사를 어떻게 효율적으로 기존 로직에 추가하는 방법을 알아야한다.


이 개념을 통해 OOP의 한계와 더불어 AOP를 사용해야 하는 이유를 살펴볼 수 있다.

#### 클래스 구성

![img](/md/img/aop/oop-with-aop/class-diagram1.png)

1. AdminBusiness → 업무 담당자 클래스
2. MemberBusiness → 일반 사원 클래스

다음과 클래스의 구조를 형성하고 있다.

이때 doAction() 메소드는 기존

1. 이체 금액은 1000원 이상 부터 가능합니다.

다음 이체 로직은 문제가 없다고 가정하고 이때 다음과 같은 요구사항을 추가해보자.

### 1. 데코레이션 패턴

코드가 작동해야하는 객체의 정확한 유형과 종속성을 미리 알지 못하는 경우 팩토리 메서드를 사용하십시오.

 AOP의 메커니즘은 프로그램을 관심사(Concerns) 기준으로 크게 핵심 관심사와 횡단 관심사로 분류하고 있다.

핵심 관심사는 프로그램의 핵심 가치와 목적이 그대로 드러난 관심 영역을 뜻한다. 해당 프로그램의 비즈니스 기능이 그러하다. 반면 횡단 관심사는 비즈니스 기능과는 다른 관심 영역을 뜻한다.

### 2. 프록시 패턴

### AOP
